<% content_for :ready_function do %>
$('.expandable_open_review_comment').expander({slicePoint: 50, sliceEarlierAt: '<br>', expandText: '[+]', expandPrefix: ' ', userCollapseText: '[-]',});
<% end %>

<table>
  <tbody>
    <% @other_open_reviews.each do |open_review| %>
      <tr>
        <td>
          <% if open_review.has_attribute?(:by_user) %>
            <%= render :partial => 'shared/user_with_realname_and_gravatar', :locals => {:user => open_review.value(:by_user), :short => true}%>
          <% elsif open_review.has_attribute?(:by_group) %>
            <%= open_review.value(:by_group) %>
          <% elsif open_review.has_attribute?(:by_project) %>
            <% if open_review.has_attribute?(:by_package) %>
              <%= link_to("#{open_review.value('by_project')} / #{open_review.value('by_package')}", :controller => 'package', :action => 'show', :project => open_review.value(:by_project), :package => open_review.value(:by_package)) %>
            <% else %>
              <%= link_to(open_review.value(:by_project), :controller => 'project', :action => 'show', :project => open_review.value(:by_project)) %>
            <% end %>
          <% end %>
        </td>
        <td class="expandable_open_review_comment"><%= open_review.value('comment') %></td>
      </tr>
    <% end %>
  </tbody>
</table>

