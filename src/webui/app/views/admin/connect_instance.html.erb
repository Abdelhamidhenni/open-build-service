

<% @pagetitle = "Connect remote OBS instance" %>

<% name = nil -%>
<% remoteurl = nil -%>

<h2>Connect a remote openSUSE Build Service instance</h2>

<div>
<p>
<h3>Use a public OBS for default base distributions</h3>
<% unless Project.exists? "openSUSE.org" -%>
  <% form_tag    :controller => "project", :action => :save_new do -%>
    <% name = "openSUSE.org" -%>
    <% remoteurl = "https://api.opensuse.org/public" -%>
    <%= hidden_field_tag( "name", "openSUSE.org" ) %>
    <%= hidden_field_tag( "remoteurl", "https://api.opensuse.org/public" ) %>
    <%= hidden_field_tag( "title", "Standard OBS instance at build.opensuse.org" ) %>
    <%= hidden_field_tag( "description", "This instance delivers the default build targets for OBS." ) %>
    <%= submit_tag "openSUSE.org" %>
  <% end -%>
<% end -%>

<% unless Project.exists? "MeeGo.com" -%>
  <% form_tag    :controller => "project", :action => :save_new do -%>
    <%= hidden_field_tag( "name", "MeeGo.com" ) %>
    <%= hidden_field_tag( "remoteurl", "https://api.meego.com/public" ) %>
    <%= hidden_field_tag( "title", "OBS instance at build.meego.com" ) %>
    <%= hidden_field_tag( "description", "This project is representing the remote build service instance." ) %>
    <%= submit_tag "MeeGo.com" %>
  <% end -%>
<% end -%>
</p>
</div>

<h3>Add custom OBS instance</h3>
<% form_tag    :controller => "project", :action => :save_new do -%>
  <table id="instance">
    <tr>
      <td><strong>Local Project Name:</strong></td>
      <td><%= text_field_tag( "name", name, :size => 80 ) %></td></tr>
    <tr>
      <td><strong>Remote OBS api url:</strong></td>
      <td><%= text_field_tag( "remoteurl", remoteurl, :size => 80 ) %></td>
    </tr>
    <tr>
      <td><strong>Title:</strong></td>
      <td><%= text_field_tag( "title", "Remote OBS instance", :size => 80 ) %></td>
    </tr>
    <tr>
      <td><strong>Description:</strong></td>
      <td><%= text_field_tag( "description", "This project is representing a remote build service instance.", :size => 80 ) %></td>
    </tr>

  </table>
  <p><%= submit_tag %></p>
<% end -%>
